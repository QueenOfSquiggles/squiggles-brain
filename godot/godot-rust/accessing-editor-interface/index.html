<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Queen of Squiggles" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Accessing the Editor Interface - Squiggles Brain</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/panda-syntax-light.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Accessing the Editor Interface";
        var mkdocs_page_input_path = "godot/godot-rust/accessing-editor-interface.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/gdscript.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Squiggles Brain
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Squiggles Brain</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../about/">Hello there!</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Godot</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../">Godot Knowledge Base</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Godot rust</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../">Godot Rust Knowledge Base</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Accessing the Editor Interface</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#full-example">Full Example</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#functionality">Functionality</a>
    </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Squiggles Brain</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Godot</li>
          <li class="breadcrumb-item">Godot rust</li>
      <li class="breadcrumb-item active">Accessing the Editor Interface</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/edit/master/docs/godot/godot-rust/accessing-editor-interface.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="accessing-the-editor-interface">Accessing the Editor Interface<a class="headerlink" href="#accessing-the-editor-interface" title="Permanent link">#</a></h1>
<p>If done incorrectly, this will lead to a segmentation fault with no way to debug without more advanced debugging tools. What is crucial is to ensure your <code>EditorPlugin</code> class is the only class using <code>EditorInterface</code> and that it is configured for Godot-Rust to recognize it as an editor plugin!</p>
<h2 id="full-example">Full Example<a class="headerlink" href="#full-example" title="Permanent link">#</a></h2>
<pre><code class="language-rust">#[derive(GodotClass)]
#[class(tool, editor_plugin, base=EditorPlugin)]
struct MyEditorPlugin {
    #[base]
    base: Base&lt;EditorPlugin&gt;,
}


#[godot_api]
impl IEditorPlugin for MyEditorPlugin {
    fn enter_tree(&amp;mut self) {
        let Some(editor) = self.base.get_editor_interface() else {
            return;
        };
        // then we can use &quot;editor&quot; to mess with the editor interface 
    }

    fn exit_tree(&amp;mut self) {}
}



</code></pre>
<blockquote>
<p>Crucially, the <code>editor_plugin</code> part of the class definition is what determines to godot-rust that this class is editor-only. This will prevent the errors where EditorInterface is not available.</p>
</blockquote>
<h2 id="functionality">Functionality<a class="headerlink" href="#functionality" title="Permanent link">#</a></h2>
<p>This procudure creates essentially a plugin like you could create with GDScript. All of that same functionality is exposed through <code>self.base</code>. However, given that this is compiled at a lower level, you can also hook into other engine features that are less accesible to GDScript. Additionally, this method does not allow disabling the plugin because the entire GDExtension is either successfully loaded or it isn't!</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../" class="btn btn-neutral float-left" title="Godot Rust Knowledge Base"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
